<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TODO LIST &mdash; The Linux Kernel  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/theme_rtd_colors.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="TI Keystone Linux Overview" href="../keystone/overview.html" />
    <link rel="prev" title="Notes" href="notes.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          </a>
              <div class="version">
                6.1.0-rc6
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/development-process.html">A guide to the Kernel Development Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/submitting-patches.html">Submitting patches: the essential guide to getting your code into the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">All development-process docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../subsystem-apis.html">Kernel subsystem documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">Locking in the kernel</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/license-rules.html">Linux kernel licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/testing-overview.html">Kernel Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Kernel Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rust/index.html">Rust</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">The kernel build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">User-space tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devicetree/index.html">Open Firmware and Devicetree</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../arch.html">CPU Architectures</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../arc/index.html">ARC architecture</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">ARM Architecture</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../arm.html">ARM Linux 2.6 and upper</a></li>
<li class="toctree-l3"><a class="reference internal" href="../booting.html">Booting ARM Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cluster-pm-race-avoidance.html">Cluster-wide Power-up/power-down race avoidance algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../firmware.html">Interface for registering and calling firmware-specific operations for ARM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interrupts.html">Interrupts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kernel_mode_neon.html">Kernel mode NEON</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kernel_user_helpers.html">Kernel-provided User Helpers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../memory.html">Kernel Memory Layout on ARM Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mem_alignment.html">Memory alignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tcm.html">ARM TCM (Tightly-Coupled Memory) handling in Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup.html">Kernel initialisation parameters on ARM Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../swp_emulation.html">Software emulation of deprecated SWP instruction (CONFIG_SWP_EMULATE)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uefi.html">The Unified Extensible Firmware Interface (UEFI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vlocks.html">vlocks for Bare-Metal Mutual Exclusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../porting.html">Porting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features.html">Feature status on arm architecture</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#soc-specific-documents">SoC-specific documents</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../google/chromebook-boot-flow.html">Chromebook Boot Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ixp4xx.html">Release Notes for Linux on Intel’s IXP4xx Network Processor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../marvell.html">ARM Marvell SoCs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../microchip.html">ARM Microchip SoCs (aka AT91)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../netwinder.html">NetWinder specific documentation</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">NetWinder’s floating point emulator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../keystone/overview.html">TI Keystone Linux Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../keystone/knav-qmss.html">Texas Instruments Keystone Navigator Queue Management SubSystem driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../omap/index.html">TI OMAP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pxa/mfp.html">MFP Configuration for PXA2xx/PXA3xx Processors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sa1100/index.html">Intel StrongARM 1100</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stm32/stm32f746-overview.html">STM32F746 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stm32/overview.html">STM32 ARM Linux Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stm32/stm32h743-overview.html">STM32H743 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stm32/stm32h750-overview.html">STM32H750 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stm32/stm32f769-overview.html">STM32F769 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stm32/stm32f429-overview.html">STM32F429 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stm32/stm32mp13-overview.html">STM32MP13 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stm32/stm32mp157-overview.html">STM32MP157 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stm32/stm32-dma-mdma-chaining.html">STM32 DMA-MDMA chaining</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sunxi.html">ARM Allwinner SoCs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../samsung/index.html">Samsung SoC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../samsung-s3c24xx/index.html">Samsung S3C24XX SoC Family</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sunxi/clocks.html">Frequently asked questions about the sunxi clock system</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spear/overview.html">SPEAr ARM Linux Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sti/stih416-overview.html">STiH416 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sti/stih407-overview.html">STiH407 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sti/stih418-overview.html">STiH418 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sti/overview.html">STi ARM Linux Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sti/stih415-overview.html">STiH415 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../vfp/release-notes.html">Release notes for Linux Kernel VFP support code</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../loongarch/index.html">LoongArch Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nios2/index.html">Nios II Specific Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../powerpc/index.html">powerpc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html">Unsorted Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/index.html">Translations</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../arch.html">CPU Architectures</a> &raquo;</li>
          <li><a href="../index.html">ARM Architecture</a> &raquo;</li>
          <li><a href="index.html">NetWinder’s floating point emulator</a> &raquo;</li>
      <li>TODO LIST</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/arm/nwfpe/todo.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="todo-list">
<h1>TODO LIST<a class="headerlink" href="#todo-list" title="Permalink to this heading">¶</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>POW{cond}&lt;S|D|E&gt;{P,M,Z} Fd, Fn, &lt;Fm,#value&gt; - power
RPW{cond}&lt;S|D|E&gt;{P,M,Z} Fd, Fn, &lt;Fm,#value&gt; - reverse power
POL{cond}&lt;S|D|E&gt;{P,M,Z} Fd, Fn, &lt;Fm,#value&gt; - polar angle (arctan2)

LOG{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - logarithm to base 10
LGN{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - logarithm to base e
EXP{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - exponent
SIN{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - sine
COS{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - cosine
TAN{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - tangent
ASN{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - arcsine
ACS{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - arccosine
ATN{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - arctangent
</pre></div>
</div>
<p>These are not implemented.  They are not currently issued by the compiler,
and are handled by routines in libc.  These are not implemented by the FPA11
hardware, but are handled by the floating point support code.  They should
be implemented in future versions.</p>
<p>There are a couple of ways to approach the implementation of these.  One
method would be to use accurate table methods for these routines.  I have
a couple of papers by S. Gal from IBM’s research labs in Haifa, Israel that
seem to promise extreme accuracy (in the order of 99.8%) and reasonable speed.
These methods are used in GLIBC for some of the transcendental functions.</p>
<p>Another approach, which I know little about is CORDIC.  This stands for
Coordinate Rotation Digital Computer, and is a method of computing
transcendental functions using mostly shifts and adds and a few
multiplications and divisions.  The ARM excels at shifts and adds,
so such a method could be promising, but requires more research to
determine if it is feasible.</p>
<section id="rounding-methods">
<h2>Rounding Methods<a class="headerlink" href="#rounding-methods" title="Permalink to this heading">¶</a></h2>
<p>The IEEE standard defines 4 rounding modes.  Round to nearest is the
default, but rounding to + or - infinity or round to zero are also allowed.
Many architectures allow the rounding mode to be specified by modifying bits
in a control register.  Not so with the ARM FPA11 architecture.  To change
the rounding mode one must specify it with each instruction.</p>
<p>This has made porting some benchmarks difficult.  It is possible to
introduce such a capability into the emulator.  The FPCR contains
bits describing the rounding mode.  The emulator could be altered to
examine a flag, which if set forced it to ignore the rounding mode in
the instruction, and use the mode specified in the bits in the FPCR.</p>
<p>This would require a method of getting/setting the flag, and the bits
in the FPCR.  This requires a kernel call in ArmLinux, as WFC/RFC are
supervisor only instructions.  If anyone has any ideas or comments I
would like to hear them.</p>
<dl>
<dt>NOTE:</dt><dd><p>pulled out from some docs on ARM floating point, specifically
for the Acorn FPE, but not limited to it:</p>
<p>The floating point control register (FPCR) may only be present in some
implementations: it is there to control the hardware in an implementation-
specific manner, for example to disable the floating point system.  The user
mode of the ARM is not permitted to use this register (since the right is
reserved to alter it between implementations) and the WFC and RFC
instructions will trap if tried in user mode.</p>
<p>Hence, the answer is yes, you could do this, but then you will run a high
risk of becoming isolated if and when hardware FP emulation comes out</p>
<blockquote>
<div><p>– Russell.</p>
</div></blockquote>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="notes.html" class="btn btn-neutral float-left" title="Notes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../keystone/overview.html" class="btn btn-neutral float-right" title="TI Keystone Linux Overview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright The kernel development community.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>