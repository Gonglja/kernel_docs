<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 7.0.2 (0)
 -->
<!-- Title: encoder_state_machine Pages: 1 -->
<svg width="1401pt" height="758pt"
 viewBox="0.00 0.00 1400.57 757.66" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 753.66)">
<title>encoder_state_machine</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-753.66 1396.57,-753.66 1396.57,4 -4,4"/>
<!-- Encoding -->
<g id="node1" class="node">
<title>Encoding</title>
<ellipse fill="none" stroke="black" cx="628.57" cy="-691.71" rx="53.89" ry="53.89"/>
<ellipse fill="none" stroke="black" cx="628.57" cy="-691.71" rx="57.89" ry="57.89"/>
<text text-anchor="middle" x="628.57" y="-688.01" font-family="Times,serif" font-size="14.00">Encoding</text>
</g>
<!-- Encoding&#45;&gt;Encoding -->
<g id="edge6" class="edge">
<title>Encoding&#45;&gt;Encoding</title>
<path fill="none" stroke="black" d="M684.87,-706.76C696.32,-705.12 704.51,-700.1 704.51,-691.71 704.51,-686.33 701.15,-682.34 695.72,-679.74"/>
<polygon fill="black" stroke="black" points="696.9,-676.43 686.33,-677.07 695,-683.17 696.9,-676.43"/>
</g>
<!-- Stopped -->
<g id="node3" class="node">
<title>Stopped</title>
<ellipse fill="none" stroke="black" cx="262.57" cy="-364.58" rx="49.29" ry="49.29"/>
<text text-anchor="middle" x="262.57" y="-360.88" font-family="Times,serif" font-size="14.00">Stopped</text>
</g>
<!-- Encoding&#45;&gt;Stopped -->
<g id="edge5" class="edge">
<title>Encoding&#45;&gt;Stopped</title>
<path fill="none" stroke="black" d="M571.01,-681.97C478.31,-666.6 302.57,-631.66 265.57,-582.77 231.44,-537.67 236.27,-470.87 246.13,-423.27"/>
<polygon fill="black" stroke="black" points="249.5,-424.21 248.25,-413.69 242.67,-422.7 249.5,-424.21"/>
<text text-anchor="middle" x="379.57" y="-542.67" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(OUTPUT)</text>
</g>
<!-- Drain -->
<g id="node4" class="node">
<title>Drain</title>
<ellipse fill="none" stroke="black" cx="538.57" cy="-546.37" rx="36.29" ry="36.29"/>
<text text-anchor="middle" x="538.57" y="-542.67" font-family="Times,serif" font-size="14.00">Drain</text>
</g>
<!-- Encoding&#45;&gt;Drain -->
<g id="edge3" class="edge">
<title>Encoding&#45;&gt;Drain</title>
<path fill="none" stroke="black" d="M578.87,-661.11C563.39,-649.14 548.14,-633.84 539.57,-615.77 536.39,-609.07 534.71,-601.57 533.97,-594.06"/>
<polygon fill="black" stroke="black" points="537.48,-594.12 533.58,-584.27 530.48,-594.4 537.48,-594.12"/>
<text text-anchor="middle" x="622.57" y="-604.57" font-family="Times,serif" font-size="14.00">V4L2_ENC_CMD_STOP</text>
</g>
<!-- Reset -->
<g id="node5" class="node">
<title>Reset</title>
<ellipse fill="none" stroke="black" cx="798.57" cy="-227.13" rx="37.09" ry="37.09"/>
<text text-anchor="middle" x="798.57" y="-223.43" font-family="Times,serif" font-size="14.00">Reset</text>
</g>
<!-- Encoding&#45;&gt;Reset -->
<g id="edge4" class="edge">
<title>Encoding&#45;&gt;Reset</title>
<path fill="none" stroke="black" d="M674.69,-656.2C686.77,-644.73 698.42,-630.95 705.57,-615.77 740.49,-541.62 668.46,-495.23 720.57,-431.97 739.36,-409.17 765.85,-436.84 784.57,-413.97 816.13,-375.41 814.78,-315.98 808.7,-274.75"/>
<polygon fill="black" stroke="black" points="812.2,-274.44 807.13,-265.13 805.29,-275.57 812.2,-274.44"/>
<text text-anchor="middle" x="839.57" y="-458.27" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(CAPTURE)</text>
</g>
<!-- Initialization -->
<g id="node2" class="node">
<title>Initialization</title>
<ellipse fill="none" stroke="black" cx="1225.57" cy="-69.54" rx="69.59" ry="69.59"/>
<text text-anchor="middle" x="1225.57" y="-65.84" font-family="Times,serif" font-size="14.00">Initialization</text>
</g>
<!-- Initialization&#45;&gt;Encoding -->
<g id="edge2" class="edge">
<title>Initialization&#45;&gt;Encoding</title>
<path fill="none" stroke="black" d="M1225.57,-139.48C1225.57,-166.5 1225.57,-197.77 1225.57,-226.13 1225.57,-547.37 1225.57,-547.37 1225.57,-547.37 1225.57,-654.8 855.41,-681.92 698.03,-688.6"/>
<polygon fill="black" stroke="black" points="697.99,-685.1 688.14,-689 698.27,-692.09 697.99,-685.1"/>
<text text-anchor="middle" x="1309.07" y="-360.88" font-family="Times,serif" font-size="14.00">Both queues streaming</text>
</g>
<!-- Stopped&#45;&gt;Encoding -->
<g id="edge11" class="edge">
<title>Stopped&#45;&gt;Encoding</title>
<path fill="none" stroke="black" d="M216.19,-381.81C126.66,-415.56 -55.11,-497.33 16.57,-582.77 85.19,-664.54 413.42,-684.39 558.89,-689.19"/>
<polygon fill="black" stroke="black" points="558.68,-692.69 568.79,-689.5 558.9,-685.69 558.68,-692.69"/>
<text text-anchor="middle" x="126.57" y="-557.67" font-family="Times,serif" font-size="14.00">V4L2_ENC_CMD_START</text>
<text text-anchor="middle" x="126.57" y="-542.67" font-family="Times,serif" font-size="14.00">or</text>
<text text-anchor="middle" x="126.57" y="-527.67" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMON(OUTPUT)</text>
</g>
<!-- Stopped&#45;&gt;Reset -->
<g id="edge12" class="edge">
<title>Stopped&#45;&gt;Reset</title>
<path fill="none" stroke="black" d="M263.46,-314.95C266.09,-302.65 271.17,-290.56 280.57,-282.18 315.21,-251.27 627.65,-235.17 749.87,-230.01"/>
<polygon fill="black" stroke="black" points="749.73,-233.52 759.58,-229.61 749.44,-226.53 749.73,-233.52"/>
<text text-anchor="middle" x="399.57" y="-285.98" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(CAPTURE)</text>
</g>
<!-- Drain&#45;&gt;Stopped -->
<g id="edge7" class="edge">
<title>Drain&#45;&gt;Stopped</title>
<path fill="none" stroke="black" d="M511.22,-522.17C504.23,-517.36 496.45,-512.88 488.57,-509.97 447.12,-494.68 323.73,-521.16 290.57,-491.97 280.18,-482.83 273.31,-453.23 268.97,-424.98"/>
<polygon fill="black" stroke="black" points="272.47,-424.75 267.59,-415.34 265.54,-425.74 272.47,-424.75"/>
<text text-anchor="middle" x="404.57" y="-480.77" font-family="Times,serif" font-size="14.00">All CAPTURE</text>
<text text-anchor="middle" x="404.57" y="-465.77" font-family="Times,serif" font-size="14.00">buffers dequeued</text>
<text text-anchor="middle" x="404.57" y="-450.77" font-family="Times,serif" font-size="14.00">or</text>
<text text-anchor="middle" x="404.57" y="-435.77" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(OUTPUT)</text>
</g>
<!-- Drain&#45;&gt;Reset -->
<g id="edge8" class="edge">
<title>Drain&#45;&gt;Reset</title>
<path fill="none" stroke="black" d="M535.08,-509.86C530.26,-453.05 524.47,-345.09 546.57,-315.18 593.77,-251.32 690.88,-233.96 749.81,-229.45"/>
<polygon fill="black" stroke="black" points="749.8,-232.96 759.55,-228.81 749.35,-225.98 749.8,-232.96"/>
<text text-anchor="middle" x="665.57" y="-360.88" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(CAPTURE)</text>
</g>
<!-- Reset&#45;&gt;Encoding -->
<g id="edge9" class="edge">
<title>Reset&#45;&gt;Encoding</title>
<path fill="none" stroke="black" d="M828.42,-249.08C887.75,-293.38 1010.49,-400.1 958.57,-491.97 902.4,-591.37 774.39,-646.58 695.33,-672.33"/>
<polygon fill="black" stroke="black" points="694.43,-668.95 685.96,-675.32 696.55,-675.62 694.43,-668.95"/>
<text text-anchor="middle" x="1085.57" y="-458.27" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMON(CAPTURE)</text>
</g>
<!-- Reset&#45;&gt;Initialization -->
<g id="edge10" class="edge">
<title>Reset&#45;&gt;Initialization</title>
<path fill="none" stroke="black" d="M833.4,-213.39C871.32,-199.53 933.74,-176.71 987.57,-157.09 1041.7,-137.36 1102.78,-115.15 1149.5,-98.17"/>
<polygon fill="black" stroke="black" points="1150.52,-101.52 1158.73,-94.82 1148.13,-94.94 1150.52,-101.52"/>
<text text-anchor="middle" x="1099.57" y="-160.89" font-family="Times,serif" font-size="14.00">VIDIOC_REQBUFS(OUTPUT, 0)</text>
</g>
<!-- qi -->
<g id="node6" class="node">
<title>qi</title>
<ellipse fill="black" stroke="black" cx="1258.57" cy="-227.13" rx="1.8" ry="1.8"/>
</g>
<!-- qi&#45;&gt;Initialization -->
<g id="edge1" class="edge">
<title>qi&#45;&gt;Initialization</title>
<path fill="none" stroke="black" d="M1258.36,-225.14C1257.03,-218.88 1249.63,-184.01 1242.2,-148.97"/>
<polygon fill="black" stroke="black" points="1245.71,-148.65 1240.22,-139.6 1238.87,-150.11 1245.71,-148.65"/>
<text text-anchor="middle" x="1269.57" y="-160.89" font-family="Times,serif" font-size="14.00">open()</text>
</g>
</g>
</svg>
